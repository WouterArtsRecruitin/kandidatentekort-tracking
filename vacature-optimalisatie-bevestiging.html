<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Bedankt! Je Vacature Analyse Is Onderweg | KandidatenTekort.nl</title>
    <meta name="description" content="Bedankt voor je aanvraag. Je vacature analyse komt binnen 24 uur in je inbox.">

    <!-- Google Analytics 4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-W6G1NY28BD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-W6G1NY28BD');
    </script>

    <!-- Facebook Pixel -->
    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.com/en_US/fbevents.js');

      fbq('init', '1735907367288442');
      fbq('track', 'PageView');
      fbq('track', 'CompleteRegistration', { content_name: 'Vacature Analyse' });
    </script>
    <noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=1735907367288442&ev=PageView&noscript=1"/></noscript>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap');

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: #020617;
            color: #cbd5e1;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
        }

        /* Background Effects */
        .background {
            position: fixed;
            inset: 0;
            z-index: 0;
            background: radial-gradient(circle at top, rgba(30, 58, 138, 0.2), #020617 60%);
        }

        /* Main Card */
        .success-card {
            position: relative;
            z-index: 10;
            width: 100%;
            max-width: 500px;
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 48px 32px;
            box-shadow: 0 24px 64px rgba(0, 0, 0, 0.5);
            text-align: center;
            animation: fadeInScale 0.6s ease-out;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        /* Success Icon */
        .success-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 32px;
            background: rgba(16, 185, 129, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: pulse 2s ease-in-out infinite;
        }

        .success-icon span {
            font-size: 48px;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Typography */
        h1 {
            font-size: 28px;
            font-weight: 900;
            color: white;
            margin-bottom: 16px;
            letter-spacing: -0.02em;
        }

        .subtitle {
            font-size: 16px;
            color: #cbd5e1;
            margin-bottom: 32px;
            line-height: 1.6;
        }

        /* Email Box */
        .email-box {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 32px;
        }

        .email-label {
            font-size: 14px;
            font-weight: 600;
            color: #93c5fd;
            margin-bottom: 8px;
        }

        .email-value {
            font-size: 15px;
            color: #cbd5e1;
            word-break: break-all;
            margin-bottom: 12px;
        }

        .email-note {
            font-size: 12px;
            color: #64748b;
        }

        /* Divider */
        .divider {
            height: 1px;
            background: rgba(255, 255, 255, 0.1);
            margin: 32px 0;
        }

        /* Section Heading */
        .section-heading {
            font-size: 18px;
            font-weight: 700;
            color: white;
            margin-bottom: 24px;
        }

        /* Primary Button */
        .btn-primary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            padding: 20px 32px;
            background: linear-gradient(135deg, #ff6b35 0%, #e55a2b 100%);
            color: white;
            font-size: 18px;
            font-weight: 800;
            border: none;
            border-radius: 16px;
            cursor: pointer;
            text-decoration: none;
            box-shadow: 0 12px 28px rgba(255, 107, 53, 0.35);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            margin-bottom: 32px;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 16px 40px rgba(255, 107, 53, 0.5);
        }

        .btn-primary svg {
            width: 20px;
            height: 20px;
        }

        /* Contact Options */
        .contact-label {
            font-size: 14px;
            color: #94a3b8;
            margin-bottom: 16px;
        }

        .contact-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .contact-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 16px;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            color: white;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
        }

        .contact-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .contact-btn svg {
            width: 18px;
            height: 18px;
            color: #10b981;
        }

        .whatsapp-note {
            font-size: 11px;
            color: #64748b;
            font-style: italic;
            margin-top: 8px;
        }

        /* Footer Note */
        .footer-note {
            font-size: 12px;
            color: #64748b;
            margin-top: 32px;
        }

        /* Responsive */
        @media (max-width: 640px) {
            .success-card {
                padding: 40px 24px;
            }

            h1 {
                font-size: 24px;
            }

            .btn-primary {
                font-size: 16px;
                padding: 18px 28px;
            }
        }
    </style>
</head>
<body>
    <div class="background"></div>

    <div class="success-card">
        <!-- Success Icon -->
        <div class="success-icon">
            <span>üéâ</span>
        </div>

        <!-- Main Message -->
        <h1>Perfect, <span id="firstName">topper</span>!</h1>
        <p class="subtitle">
            Je Vacature Analyse wordt nu gemaakt en komt binnen 24 uur in je inbox.
        </p>

        <!-- Email Confirmation Box -->
        <div class="email-box">
            <p class="email-label">üìß Check je mail:</p>
            <p class="email-value" id="userEmail">je inbox</p>
            <p class="email-note">(check ook je spam!)</p>
        </div>

        <div class="divider"></div>

        <!-- Call to Action -->
        <h3 class="section-heading">Wil je direct aan de slag?</h3>

        <a href="https://calendly.com/wouter-arts-/15min" target="_blank" rel="noopener noreferrer" class="btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            Boek gratis 15-min gesprek
        </a>

        <div class="divider"></div>

        <!-- Alternative Contact Options -->
        <p class="contact-label">Of neem anders contact op:</p>

        <div class="contact-options">
            <a href="tel:0614314593" class="contact-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                </svg>
                Bel: 06 14314593
            </a>

            <a href="https://wa.me/31614314593?text=Hi%20Wouter%2C%20ik%20heb%20net%20de%20vacature%20analyse%20aangevraagd!" target="_blank" rel="noopener noreferrer" class="contact-btn">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
                </svg>
                WhatsApp: 06 14314593
            </a>
        </div>

        <p class="whatsapp-note">
            (Opslaan & verstuur: "Hi Wouter, ik heb net de vacature analyse aangevraagd!")
        </p>

        <div class="divider"></div>

        <!-- Footer Note -->
        <p class="footer-note">
            Geen email na 24 uur? Bel 06 14314593
        </p>
    </div>

    <script>
        // Get URL parameters for personalization
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            const results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // Populate user data from URL parameters
        window.addEventListener('DOMContentLoaded', function() {
            const firstName = getUrlParameter('first_name') || getUrlParameter('name') || getUrlParameter('firstname') || '';
            const email = getUrlParameter('email') || '';

            // Update first name
            if (firstName) {
                document.getElementById('firstName').textContent = firstName;
            }

            // Update email
            if (email) {
                document.getElementById('userEmail').textContent = email;
            }

            // Track completion
            if (typeof gtag !== 'undefined') {
                gtag('event', 'conversion', {
                    'event_category': 'engagement',
                    'event_label': 'Vacature Analyse Completed'
                });
            }

            // Server-side tracking
            sendServerSideEvent('CompleteRegistration', {
                content_name: 'Vacature Analyse',
                value: 0,
                currency: 'EUR'
            });
        });

        async function sendServerSideEvent(eventName, customData = {}) {
            try {
                const fbp = getCookie('_fbp');
                const fbc = getCookie('_fbc');

                const response = await fetch('/.netlify/functions/track-conversion', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        event_name: eventName,
                        event_source_url: window.location.href,
                        user_data: { fbp, fbc },
                        custom_data: customData
                    })
                });

                const result = await response.json();
                console.log('‚úÖ Server-side tracked:', result);
            } catch (error) {
                console.error('‚ùå Tracking error:', error);
            }
        }

        function getCookie(name) {
            const value = `; ${document.cookie}`;
            const parts = value.split(`; ${name}=`);
            if (parts.length === 2) return parts.pop().split(';').shift();
            return null;
        }
    </script>
</body>
</html>
